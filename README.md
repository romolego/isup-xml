XSD Viewer — руководство пользователя

Назначение
XSD Viewer — инструмент для визуального анализа и документирования XML-схем (XSD).
Позволяет загружать комплекты файлов схем, строить дерево элементов, управлять отображением и раскрытием узлов, настраивать фильтры, просматривать карточки элементов и сохранять состояние работы.
________________________________________
1. Подготовка и загрузка файлов
   
1.	Нажмите «Выбрать файлы» и выделите весь комплект XSD-файлов, относящийся к документу.
o	Первым всегда выбирается основной XSD-файл (например, ATISO.xsd, AOOK.xsd, GeneralWorkJournal.xsd).
o	Далее добавляются все остальные XSD-файлы из подпапок — Types и другие папки, содержащие файлы .xsd (например, BuildingInfo, Participants, WorkInfo и т. д.).
2.	Нажмите «Загрузить и разобрать XSD».
После этого:
o	под кнопками появятся счётчики: Файлов, Глоб. элементов, Типов, Максимальная глубина, Строк всего;
o	Файлов, Глоб. элементов, Типов — статические (берутся из загруженных схем);
o	Максимальная глубина — показывает наибольший уровень вложенности элементов в схеме. Определяется один раз при разборе XSD и не изменяется при фильтрации;
o	Строк всего — динамический параметр, который пересчитывается каждый раз при изменении фильтров или сворачивании дерева.
3.	После разбора появляется дерево элементов, к которому автоматически применяются все настройки, заданные на панели «Настройки отображения».
________________________________________
2. Верхняя панель
•	Выбрать файлы — выбрать XSD-файлы для загрузки.
•	Загрузить и разобрать XSD — выполнить парсинг выбранных файлов и построить дерево.
•	Отчёт — краткая сводка по загруженным файлам (импорты, корневой элемент, глубина, ошибки).
•	Счётчики: Файлов, Глоб. элементов, Типов, Максимальная глубина, Строк всего.
________________________________________
3. Настройки отображения
Раздел «Настройки отображения» определяет, какие поля показываются у каждого узла дерева и какие вспомогательные кнопки активны.
Основные параметры:
•	Имя — отображает имя XML-элемента.
•	Код — короткое техническое обозначение (cf:имя).
•	Уровень вложенности (L-бейдж) — уровень узла (L0, L1 и т. д.).
•	Тип данных — тип элемента (string, date, integer и т. п.).
•	Обязательность — признак обязательного элемента.
•	Цветовая индикация уровней — включает подсветку дерева по уровням вложенности.
Кнопки копирования:
•	Имя, Путь, Код — показывают кнопки для копирования значений в буфер обмена.
Кнопки фильтрации:
•	Отображение, Разворачивание — позволяют добавлять или удалять узлы из фильтров прямо из дерева.
Дополнительно:
•	Выделить всё / Снять всё — массовое включение или отключение параметров.
________________________________________
4. Разворачивание и фильтры
Общий чекбокс «Разворачивание»
Активирует работу фильтров. При включении становятся доступны блоки фильтров.
________________________________________
Фильтры отображения групп
•	Определяют, какие узлы видны в дереве.
•	Снятая галочка скрывает элемент из дерева, но не удаляет его.
•	Чтобы вернуть элемент, поставьте галочку снова или удалите код из списка фильтров.
•	Фильтры динамические — любое изменение чекбоксов применяется мгновенно, без кнопки «Применить».
________________________________________
Фильтр разворачивания групп
•	Определяет, какие группы элементов раскрываются автоматически.
•	Активная галочка раскрывает все элементы с этим кодом до верхнего уровня.
•	Снятая галочка сворачивает ветку, но оставляет её видимой.
•	Также фильтр динамический — дерево перестраивается сразу при изменении чекбоксов.
________________________________________
Отличие «Отображения» и «Разворачивания»
•	Разворачивание управляет только раскрытием или сворачиванием ветвей (аналогично команде «Развернуть дерево»).
•	Отображение скрывает элементы полностью, но не удаляет их из структуры.
Чтобы вернуть скрытые элементы — включите галочку в фильтре.
________________________________________
Управление фильтрами
Для изменения состава фильтров используйте:
•	«Настроить фильтры отображения»
•	«Настроить фильтры разворачивания»
Эти кнопки открывают окно, где можно:
•	вводить или удалять коды (через запятую);
•	экспортировать текущие списки кодов в текстовый файл;
•	импортировать ранее сохранённые списки.
Элементы можно добавлять и прямо из дерева — кнопками «Отображение» и «Разворачивание».
Изменения синхронизируются между деревом и фильтрами в обе стороны.
________________________________________
5. Дерево элементов
Основная рабочая область.
•	Каждый уровень дерева подсвечен своим цветом.
•	Верхние уровни (основные блоки схемы) имеют разные цвета, чтобы визуально различать разделы.
•	Вложенные уровни отображаются теми же цветами, но с меньшей насыщенностью — чем глубже уровень, тем светлее оттенок.
•	Такое оформление помогает быстро определить структуру и вложенность документа.
Навигация:
•	Раскрытие ветвей — стрелкой слева, клавишами → / ←, либо Ctrl + клик (раскрыть всю ветку).
•	При наведении отображается XPath-путь узла.
•	При клике на маркер открывается всплывающее окно (карточка элемента) с данными:
o	Имя
o	Код
o	Тип
o	Обязательность
o	Путь
o	Кнопки копирования и добавления в фильтры
________________________________________
6. Подписываемая часть и раскрытие
•	Отобразить только подписываемую часть (ActInfo) — показывает только блок, участвующий в подписании (actInfo и т. п.).
•	Уровень раскрытия — задаёт глубину видимых уровней дерева. Можно выбрать:
o	конкретное число (например, до 10-го уровня включительно);
o	либо вариант «Все», чтобы полностью раскрыть дерево без ограничений.
________________________________________
7. Нижняя панель
•	Экспорт TXT — сохраняет текущее дерево в текстовом виде (все видимые элементы с отступами).
•	Сохранить snapshot / Загрузить snapshot — сохранить или восстановить состояние (дерево, фильтры, позицию прокрутки).
•	Сохранить настройки / Загрузить настройки — сохранить или восстановить конфигурацию интерфейса (все чекбоксы и фильтры).
•	Сжать окно дерева — уменьшить высоту дерева для удобства просмотра.
________________________________________
8. Работа с фильтрами
Добавление или удаление элементов возможно двумя способами:
1.	Через фильтр — ввести коды вручную или выбрать из списка.
2.	Через дерево — нажать кнопку «Отображение» или «Разворачивание» на нужном узле.
При добавлении из дерева код сразу появляется в фильтре; при удалении — исчезает из дерева, но остаётся в структуре (можно вернуть обратно, поставив галочку).
Все фильтры и изменения применяются мгновенно, без кнопки подтверждения.
________________________________________
9. Дополнительные возможности
•	Все панели («Настройки отображения», «Фильтры отображения групп», «Фильтр разворачивания групп») можно сворачивать и разворачивать стрелкой слева от заголовка.
•	Цветовую индикацию уровней можно включать и выключать в любой момент.
•	При нажатии на значок «?» рядом с заголовком открывается краткая справка по разделу.
________________________________________
10. Быстрый порядок действий
1.	Выбрать файлы (основной + все вспомогательные из подпапок).
2.	Загрузить и разобрать XSD.
3.	Настроить отображение, копирование, цветовую индикацию.
4.	При необходимости включить «Разворачивание» и выбрать нужные фильтры.
5.	Использовать карточки элементов для просмотра структуры.
6.	При необходимости включить «Отобразить только подписываемую часть (ActInfo)».
7.	Сохранить результат через «Сохранить snapshot» или экспортировать дерево в TXT.
